{%- extends 'base.html' -%}
{%- block page_title -%}Home&nbsp{%- endblock -%}
{%- block page_style -%}
<link href="{{ url_for('static',filename='css/home.css') }}" rel="stylesheet" xmlns="http://www.w3.org/1999/html" xmlns="http://www.w3.org/1999/html">
{%- endblock -%}
{%- block nav_info -%}
<a class="link-in-text" href="{{ url_for('home') }}">Home</a>
{%- endblock -%}
{%- block column_a -%}
    {% if error is not defined %}
<div id="top-row-a" class="content-box">
    <h2>Request</h2>
        <p>The details of the request will appear here after selection.</p>
        {% if request_url is defined %}
        <p><strong>URL:</strong><a href="{{ request_url }}"> {{ request_url }}</a></p>
        {% endif %}
        {% if request_method is defined %}
        <p><strong>Method:</strong> {{ request_method }}<p>
        <p><strong>Accept:</strong> application/json<p>
        {% endif %}
</div>
    {% else %}
<div id="error-box" class="content-box">
    <h2>{{ status_value }}: {{ status_desc }}</h2>
    <h3>Could not fetch "{{ request_url }}"</h3>
    <p><strong>Reason:</strong> {{ error }}</p>
    <p><strong>Suggested resolution:</strong> Use the buttons on the left of the page to generate a new request or amend the URL. You can also reset the page to clear this error message.</p>
    <p><strong>Actions: </strong><a class="link-in-text" href="{{ url_for('home') }}">Reset the page</a>
</div>
    {% endif %}
{% if error is not defined %}
<div id="bottom-row-a" class="content-box">
    <h2>Filter</h2>
    {% if num_attributes is defined %}
    <p>{{ num_attributes }} attributes were consumed from the response:</p>
    {% if response_data is defined %}
    <ul>
        {% for i in range(num_attributes) %}
             <li>{{ attribute_list[i] }}: {{ response_data.get(attribute_list[i]) }} </li>
        {% set dummy_var = attribute_list.pop(i) %}
        {% endfor %}
    </ul>
    {{ attribute_list }}
    {% endif %}
    {% else %}
    <p>The consumed attributes from the response will appear here.</p>
    {% endif %}
</div>
{% endif %}
{%- endblock -%}
{%- block column_b -%}
{% if error is not defined %}
<div id="top-row-b" class="content-box">
    <h2>Response</h2>
    <p>The response to a request will appear here after execution.</p>
    {% if response_data is defined %}
        [{{ status }},
        {{ response_data }}]
    {% endif %}
</div>
<div id="bottom-row-b" class="content-box">
    <h2>Attributes</h2>
    <p>Unconsumed attributes can be seen here, if requested.</p>
</div>
{% endif %}
{%- endblock -%}